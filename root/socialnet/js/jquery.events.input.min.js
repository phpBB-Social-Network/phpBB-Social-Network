/* jQuery `input` special event v1.2, http://whattheheadsaid.com/projects/input-special-event
(c) 2010-2011 Andy Earnshaw
forked by dodo (https://github.com/dodo)
MIT license
www.opensource.org/licenses/mit-license.php
*/
(function(a,d){function m(b){return"true"==a(b).prop("contenteditable")||b.tagName in p}var f="value.inputEvent",j="input textInput propertychange paste cut keydown keyup drop ".split(" ").join(".inputEvent "),n=["focusin","mouseover","dragstart",""].join(".inputEvent ")+j,p={TEXTAREA:d,INPUT:d},q={paste:d,cut:d,keydown:d,drop:d,textInput:d};a.event.special.txtinput={setup:function(b,d,k){function k(b){var c=b.target;window.clearTimeout(l);l=null;g||(b.type in q&&!l?l=window.setTimeout(function(){c.value!==
a.data(c,f)&&(a(c).trigger("txtinput"),a.data(c,f,c.value))},0):"propertychange"==b.type?"value"==b.originalEvent.propertyName&&(a(c).trigger("txtinput"),a.data(c,f,c.value),g=!0,window.setTimeout(function(){g=!1},0)):(a(c).trigger("txtinput"),a.data(c,f,c.value),g=!0,window.setTimeout(function(){g=!1},0)))}var l,h,e=this;b=a(this);var g=!1;m(e)?((h=a.data(e,"bound.inputEvent")||0)||b.bind(j,k),a.data(e,"bound.inputEvent",++h),a.data(e,f,e.value)):b.bind(n,function(b){var c=b.target;m(c)&&!a.data(e,
"delegated.inputEvent")&&(h=a.data(c,"bound.inputEvent")||0,h||(a(c).bind(j,k),k.apply(this,arguments)),a.data(e,"delegated.inputEvent",!0),a.data(c,"bound.inputEvent",++h),a.data(c,f,c.value))})},teardown:function(){var b=a(this);b.unbind(n);b.find("input, textarea").addBack().each(function(){(bndCount=a.data(this,"bound.inputEvent",(a.data(this,"bound.inputEvent")||1)-1))||b.unbind(j)})}};a.fn.input=function(b){return b?a(this).bind("txtinput",b):this.trigger("txtinput")}})(jQuery);